{"ast":null,"code":"function _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nimport { useReducer, useEffect, useCallback, useMemo, useState, useRef } from 'react';\nimport highlightReducer from './highlightReducer';\nimport getDisplayValue from './lib/getDisplayValue';\nimport FlattenOptions from './lib/flattenOptions';\nimport GroupOptions from './lib/groupOptions';\nimport getNewValue from './lib/getNewValue';\nimport getOption from './lib/getOption';\nimport doSearch from './search';\nexport default function useSelectSearch(_ref) {\n  var _ref$value = _ref.value,\n      defaultValue = _ref$value === void 0 ? null : _ref$value,\n      _ref$disabled = _ref.disabled,\n      disabled = _ref$disabled === void 0 ? false : _ref$disabled,\n      _ref$multiple = _ref.multiple,\n      multiple = _ref$multiple === void 0 ? false : _ref$multiple,\n      _ref$search = _ref.search,\n      canSearch = _ref$search === void 0 ? false : _ref$search,\n      _ref$fuse = _ref.fuse,\n      fuse = _ref$fuse === void 0 ? false : _ref$fuse,\n      defaultOptions = _ref.options;\n  var ref = useRef(null);\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      flat = _useState2[0],\n      setOptions = _useState2[1];\n\n  var _useState3 = useState(defaultValue),\n      _useState4 = _slicedToArray(_useState3, 2),\n      value = _useState4[0],\n      setValue = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      search = _useState6[0],\n      setSearch = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      focus = _useState8[0],\n      setFocus = _useState8[1];\n\n  var _useReducer = useReducer(highlightReducer, -1),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      highlighted = _useReducer2[0],\n      setHighlighted = _useReducer2[1];\n\n  var options = useMemo(function () {\n    return GroupOptions(flat);\n  }, [flat]);\n  var selectedOption = useMemo(function () {\n    return getOption(value, flat);\n  }, [value, flat]);\n  var displayValue = useMemo(function () {\n    return getDisplayValue(value, flat);\n  }, [value, flat]);\n  var onBlur = useCallback(function () {\n    setFocus(false);\n    setHighlighted(false);\n\n    if (ref.current) {\n      ref.current.blur();\n    }\n\n    if (!multiple) {\n      setSearch('');\n      setOptions(FlattenOptions(defaultOptions));\n    }\n  }, [flat, ref]);\n  var onFocus = useCallback(function () {\n    setFocus(true);\n  }, []);\n\n  var onChange = function onChange(e) {\n    return setValue(getNewValue(e.currentTarget.value, value, multiple));\n  };\n\n  var onKeyDown = useCallback(function (e) {\n    return setHighlighted({\n      key: e.key,\n      options: flat\n    });\n  }, [flat]);\n  var onKeyPress = useCallback(function (_ref2) {\n    var key = _ref2.key;\n\n    if (key === 'Enter') {\n      var option = flat[highlighted];\n\n      if (option) {\n        setValue(getNewValue(option.value, value, multiple));\n\n        if (!multiple) {\n          onBlur();\n        }\n      }\n    }\n  }, [onBlur, flat, highlighted, multiple, value]);\n  var onKeyUp = useCallback(function (_ref3) {\n    var key = _ref3.key;\n\n    if (key === 'Escape') {\n      onBlur();\n    }\n  }, [onBlur]);\n  var onSearch = useCallback(function (_ref4) {\n    var target = _ref4.target;\n    var inputVal = target.value;\n    var newOptions = flat;\n    setSearch(inputVal);\n\n    if (inputVal.length) {\n      newOptions = doSearch(inputVal, flat, fuse);\n    }\n\n    setOptions(newOptions);\n  }, [flat, fuse]);\n  var valueProps = {\n    tabIndex: '0',\n    readOnly: !canSearch,\n    onBlur: onBlur,\n    onFocus: onFocus,\n    onKeyPress: onKeyPress,\n    onKeyDown: onKeyDown,\n    onKeyUp: onKeyUp,\n    ref: ref\n  };\n\n  if (canSearch) {\n    valueProps.onChange = onSearch;\n  }\n\n  var optionProps = {\n    tabIndex: '-1',\n    onMouseDown: onChange\n  };\n  useEffect(function () {\n    setValue(defaultValue);\n  }, [defaultValue]);\n  useEffect(function () {\n    setOptions(FlattenOptions(defaultOptions));\n  }, [defaultOptions]);\n  return [{\n    value: value,\n    selectedOption: selectedOption,\n    highlighted: highlighted,\n    options: options,\n    disabled: disabled,\n    displayValue: displayValue,\n    focus: focus,\n    search: search\n  }, valueProps, optionProps, setValue];\n}","map":{"version":3,"sources":["C:/OpenMonzac/node_modules/react-select-search/dist/esm/useSelect.js"],"names":["_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","TypeError","Symbol","iterator","Object","prototype","toString","call","_arr","_n","_d","_e","undefined","_i","_s","next","done","push","value","length","err","Array","isArray","useReducer","useEffect","useCallback","useMemo","useState","useRef","highlightReducer","getDisplayValue","FlattenOptions","GroupOptions","getNewValue","getOption","doSearch","useSelectSearch","_ref","_ref$value","defaultValue","_ref$disabled","disabled","_ref$multiple","multiple","_ref$search","search","canSearch","_ref$fuse","fuse","defaultOptions","options","ref","_useState","_useState2","flat","setOptions","_useState3","_useState4","setValue","_useState5","_useState6","setSearch","_useState7","_useState8","focus","setFocus","_useReducer","_useReducer2","highlighted","setHighlighted","selectedOption","displayValue","onBlur","current","blur","onFocus","onChange","e","currentTarget","onKeyDown","key","onKeyPress","_ref2","option","onKeyUp","_ref3","onSearch","_ref4","target","inputVal","newOptions","valueProps","tabIndex","readOnly","optionProps","onMouseDown"],"mappings":"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","sourcesContent":["function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { useReducer, useEffect, useCallback, useMemo, useState, useRef } from 'react';\nimport highlightReducer from './highlightReducer';\nimport getDisplayValue from './lib/getDisplayValue';\nimport FlattenOptions from './lib/flattenOptions';\nimport GroupOptions from './lib/groupOptions';\nimport getNewValue from './lib/getNewValue';\nimport getOption from './lib/getOption';\nimport doSearch from './search';\nexport default function useSelectSearch(_ref) {\n  var _ref$value = _ref.value,\n      defaultValue = _ref$value === void 0 ? null : _ref$value,\n      _ref$disabled = _ref.disabled,\n      disabled = _ref$disabled === void 0 ? false : _ref$disabled,\n      _ref$multiple = _ref.multiple,\n      multiple = _ref$multiple === void 0 ? false : _ref$multiple,\n      _ref$search = _ref.search,\n      canSearch = _ref$search === void 0 ? false : _ref$search,\n      _ref$fuse = _ref.fuse,\n      fuse = _ref$fuse === void 0 ? false : _ref$fuse,\n      defaultOptions = _ref.options;\n  var ref = useRef(null);\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      flat = _useState2[0],\n      setOptions = _useState2[1];\n\n  var _useState3 = useState(defaultValue),\n      _useState4 = _slicedToArray(_useState3, 2),\n      value = _useState4[0],\n      setValue = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      search = _useState6[0],\n      setSearch = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      focus = _useState8[0],\n      setFocus = _useState8[1];\n\n  var _useReducer = useReducer(highlightReducer, -1),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      highlighted = _useReducer2[0],\n      setHighlighted = _useReducer2[1];\n\n  var options = useMemo(function () {\n    return GroupOptions(flat);\n  }, [flat]);\n  var selectedOption = useMemo(function () {\n    return getOption(value, flat);\n  }, [value, flat]);\n  var displayValue = useMemo(function () {\n    return getDisplayValue(value, flat);\n  }, [value, flat]);\n  var onBlur = useCallback(function () {\n    setFocus(false);\n    setHighlighted(false);\n\n    if (ref.current) {\n      ref.current.blur();\n    }\n\n    if (!multiple) {\n      setSearch('');\n      setOptions(FlattenOptions(defaultOptions));\n    }\n  }, [flat, ref]);\n  var onFocus = useCallback(function () {\n    setFocus(true);\n  }, []);\n\n  var onChange = function onChange(e) {\n    return setValue(getNewValue(e.currentTarget.value, value, multiple));\n  };\n\n  var onKeyDown = useCallback(function (e) {\n    return setHighlighted({\n      key: e.key,\n      options: flat\n    });\n  }, [flat]);\n  var onKeyPress = useCallback(function (_ref2) {\n    var key = _ref2.key;\n\n    if (key === 'Enter') {\n      var option = flat[highlighted];\n\n      if (option) {\n        setValue(getNewValue(option.value, value, multiple));\n\n        if (!multiple) {\n          onBlur();\n        }\n      }\n    }\n  }, [onBlur, flat, highlighted, multiple, value]);\n  var onKeyUp = useCallback(function (_ref3) {\n    var key = _ref3.key;\n\n    if (key === 'Escape') {\n      onBlur();\n    }\n  }, [onBlur]);\n  var onSearch = useCallback(function (_ref4) {\n    var target = _ref4.target;\n    var inputVal = target.value;\n    var newOptions = flat;\n    setSearch(inputVal);\n\n    if (inputVal.length) {\n      newOptions = doSearch(inputVal, flat, fuse);\n    }\n\n    setOptions(newOptions);\n  }, [flat, fuse]);\n  var valueProps = {\n    tabIndex: '0',\n    readOnly: !canSearch,\n    onBlur: onBlur,\n    onFocus: onFocus,\n    onKeyPress: onKeyPress,\n    onKeyDown: onKeyDown,\n    onKeyUp: onKeyUp,\n    ref: ref\n  };\n\n  if (canSearch) {\n    valueProps.onChange = onSearch;\n  }\n\n  var optionProps = {\n    tabIndex: '-1',\n    onMouseDown: onChange\n  };\n  useEffect(function () {\n    setValue(defaultValue);\n  }, [defaultValue]);\n  useEffect(function () {\n    setOptions(FlattenOptions(defaultOptions));\n  }, [defaultOptions]);\n  return [{\n    value: value,\n    selectedOption: selectedOption,\n    highlighted: highlighted,\n    options: options,\n    disabled: disabled,\n    displayValue: displayValue,\n    focus: focus,\n    search: search\n  }, valueProps, optionProps, setValue];\n}"]},"metadata":{},"sourceType":"module"}